import { generateMock } from '@anatine/zod-mock';
import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';

import { RequestCaseForm } from '@mediature/main/app/(public)/request/[authority]/RequestCaseForm';
import { RequestCaseSchema } from '@mediature/main/models/actions/request-case';
import { CaseSchema } from '@mediature/main/models/entities/case';
import { getTRPCMock } from '@mediature/main/server/mock/trpc';

export const commonParameters = {
  msw: {
    handlers: [
      getTRPCMock({
        type: 'mutation',
        path: ['requestCase'],
        response: generateMock(CaseSchema),
      }),
    ],
  },
};

<Meta title="Forms/RequestCase" component={RequestCaseForm} />

# RequestCaseForm

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec euismod, nisl eget consectetur tempor, nisl nunc egestas nisi, euismod aliquam nisl nunc euismod.

## Props

<ArgsTable of={RequestCaseForm} />

## Examples

<Canvas>
  <Story name="Empty" parameters={commonParameters}>
    <RequestCaseForm />
  </Story>
  <Story name="Filled" parameters={commonParameters}>
    <RequestCaseForm prefill={generateMock(RequestCaseSchema)} />
  </Story>
</Canvas>
